<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>MongoDB-tips</title>
</head><body><span style="font-size: 10pt"># &nbsp;<tt>/etc/mongod.conf</tt>&nbsp; <br/>
<br/>
# add auth of mongobd<br/>
$ mongod --auth --logpath "<tt>/var/log/mongodb/mongod.log</tt>&nbsp;" --dbpath "~\data\todo" --directoryperdb --reinstall<br/>
<br/>
# add auth of mongodb in Windows<br/>
# cmd with administrator<br/>
&gt; mongod --auth --logpath "F:\development\MongoDB2.6\data\log\mongo.log" --dbpath "F:\development\MongoDB2.6\data\todo" --directoryperdb --reinstall<br/>
<br/>
# create User for db_name<br/>
<div style="text-align: left"><span style="font-family: Consolas">$ mongo [ip]/admin -u admin -p admin  <br/>
$ use [db_name] <br/>
db.createUser(<br/>
  {<br/>
    user: "[user]",<br/>
    pwd: "[password]",<br/>
    roles:    [<br/>
      {<br/>
        role: "dbOwner",<br/>
        db: "[db_name]"<br/>
      }<br/>
    ]<br/>
  }<br/>
</span></div><div style="text-align: left"><span style="font-family: Consolas">)</span></div>&nbsp; <br/>
<br/>
# log in, ref to <a href="http://database.51cto.com/art/201107/278042.htm">http://database.51cto.com/art/201107/278042.htm</a><br/>
$ use admin<br/>
$ db.auth('user', 'password')<br/>
</span>$ show dbs<br/>
$ show users<br/>
$ show collections<br/>
$ db.getCollection([table_name]).find()<br/>
</body></html>